(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var o=t(2),a=t(15),u=t.n(a),c=t(6),r=t(3),l=t(4),s=t.n(l),i=t(0),d=function(e){return Object(i.jsx)("ul",{children:e.personValue.filter((function(n){return n.name.toLowerCase().includes(e.filterNameValue.toLowerCase())})).map((function(n){return Object(i.jsxs)("li",{children:["Name: ",n.name,", ",n.number," (phone number) ",Object(i.jsx)("button",{value:n.id,onClick:e.deleteValue,children:"delete"})]},n.name)}))})},h="/api/persons",b=function(){return s.a.get(h).then((function(e){return e.data}))},m=function(e){return s.a.post(h,e).then((function(e){return e.data}))},f=function(e,n){return s.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},j=function(e){return s.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},p=function(e){return Object(i.jsx)("div",{children:Object(i.jsx)("input",{value:e.valueProps,onChange:e.onChangeProps,placeholder:e.placeholderProps})})},O=function(e){return Object(i.jsxs)("form",{onSubmit:e.onSubmitProps,children:[Object(i.jsx)("div",{children:Object(i.jsx)("input",{value:e.nameValue,onChange:e.nameChange,placeholder:e.namePlace})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{value:e.numberValue,onChange:e.numberChange,placeholder:e.numberPlace})}),Object(i.jsx)("button",{type:e.typeProps,children:"Add"})]})},g=function(e){var n=e.message,t=e.checkStatus;return null===n?null:null!=n&&!1===t?Object(i.jsx)("div",{className:"error",children:n}):null!=n&&!0===t?Object(i.jsx)("div",{className:"success",children:n}):void 0},v=function(){var e=Object(o.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],u=Object(o.useState)(!0),l=Object(r.a)(u,2),s=l[0],h=l[1],v=Object(o.useState)(null),x=Object(r.a)(v,2),w=x[0],P=x[1];Object(o.useEffect)((function(){b().then((function(e){a(e),console.log(e)}))}),[]);var y=Object(o.useState)(""),k=Object(r.a)(y,2),S=k[0],C=k[1],V=Object(o.useState)(""),A=Object(r.a)(V,2),N=A[0],T=A[1],D=Object(o.useState)(""),Y=Object(r.a)(D,2),E=Y[0],I=Y[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(g,{message:w,checkStatus:s}),Object(i.jsx)(p,{valueProps:S,onChangeProps:function(e){console.log(e.target.value),C(e.target.value)},placeholderProps:"What do you want to filter?"}),Object(i.jsx)("h2",{children:"Add new information to the phonebook!"}),Object(i.jsx)(O,{onSubmitProps:function(e){e.preventDefault();var n={name:N,number:E,date:(new Date).toISOString(),important:Math.random()>.5,id:t.length+1},o=t.find((function(e){return e.name===n.name})),u=Object(c.a)(Object(c.a)({},o),{},{number:n.number});t.some((function(e){return e.name===N}))?window.confirm("".concat(n.name," is already added to the records. Do you want to update the old number with a new one?"))&&f(o.id,u).then((function(e){a(t.map((function(n,a){return n.id!==o.id?t[a]:e}))),C(""),T(""),I(""),h(!0),P(" You have updated ".concat(n.name," successfully on the phonebook! ")),setTimeout((function(){P(null)}),2e3)})).catch((function(e){h(!1),P(" Updating ".concat(n.name," on the phonebook was unsuccessful. Please try again! :) ")),setTimeout((function(){h(!0),P(null)}),3e3)})):m(n).then((function(e){a(t.concat(e)),C(""),T(""),I(""),h(!0),P(" You have added ".concat(n.name," successfully to the phonebook! ")),setTimeout((function(){P(null)}),2e3)})).catch((function(e){h(!1),P(" Adding ".concat(n.name," to the phonebook was unsuccessful. Please try again! :) ")),setTimeout((function(){h(!0),P(null)}),3e3)}))},nameValue:N,nameChange:function(e){console.log(e.target.value),T(e.target.value)},namePlace:"Add new persons name...",numberValue:E,numberChange:function(e){console.log(e.target.value),I(e.target.value)},numberPlace:"Add new persons phone number...",typeProps:"submit"}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(d,{personValue:t,filterNameValue:S,deleteValue:function(e){var n=e.target.value,o=t.find((function(e){return e.id===n}));window.confirm("Are you sure you want to delete ".concat(o.name," from the records?"))&&j(e.target.value).then((function(e){a(t.filter((function(e){return e.id!==n}))),h(!0),P(" You have deleted ".concat(o.name," successfully from the phonebook! ")),setTimeout((function(){P(null)}),2e3)})).catch((function(e){h(!1),P(" Deleting ".concat(o.name," from the phonebook was unsuccessful. Please try again! :) ")),setTimeout((function(){h(!0),P(null)}),3e3)}))}})]})};t(39);u.a.render(Object(i.jsx)(v,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.c68cee93.chunk.js.map