(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t(14),c=t.n(o),u=t(3),r=t(4),l=t.n(r),s=t(0),i=function(e){return Object(s.jsx)("ul",{children:e.personValue.filter((function(n){return n.name.toLowerCase().includes(e.filterNameValue.toLowerCase())})).map((function(n){return Object(s.jsxs)("li",{children:["Name: ",n.name,", ",n.number," (phone number) ",Object(s.jsx)("button",{value:n.id,onClick:e.deleteValue,children:"delete"})]},n.name)}))})},h="/api/persons",d=function(){return l.a.get(h).then((function(e){return e.data}))},b=function(e){return l.a.post(h,e).then((function(e){return e.data}))},j=function(e){return l.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},m=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("input",{value:e.valueProps,onChange:e.onChangeProps,placeholder:e.placeholderProps})})},f=function(e){return Object(s.jsxs)("form",{onSubmit:e.onSubmitProps,children:[Object(s.jsx)("div",{children:Object(s.jsx)("input",{value:e.nameValue,onChange:e.nameChange,placeholder:e.namePlace})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{value:e.numberValue,onChange:e.numberChange,placeholder:e.numberPlace})}),Object(s.jsx)("button",{type:e.typeProps,children:"Add"})]})},p=function(e){var n=e.message,t=e.checkStatus;return null===n?null:null!=n&&!1===t?Object(s.jsx)("div",{className:"error",children:n}):null!=n&&!0===t?Object(s.jsx)("div",{className:"success",children:n}):void 0},O=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(!0),r=Object(u.a)(c,2),l=r[0],h=r[1],O=Object(a.useState)(null),g=Object(u.a)(O,2),v=g[0],x=g[1];Object(a.useEffect)((function(){d().then((function(e){o(e),console.log(e)}))}),[]);var P=Object(a.useState)(""),w=Object(u.a)(P,2),S=w[0],C=w[1],k=Object(a.useState)(""),y=Object(u.a)(k,2),V=y[0],A=y[1],N=Object(a.useState)(""),T=Object(u.a)(N,2),D=T[0],I=T[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(p,{message:v,checkStatus:l}),Object(s.jsx)(m,{valueProps:S,onChangeProps:function(e){console.log(e.target.value),C(e.target.value)},placeholderProps:"What do you want to filter?"}),Object(s.jsx)("h2",{children:"Add new information to the phonebook!"}),Object(s.jsx)(f,{onSubmitProps:function(e){e.preventDefault();var n={name:V,number:D,date:(new Date).toISOString(),important:Math.random()>.5,id:t.length+1};b(n).then((function(e){o(t.concat(e)),C(""),A(""),I(""),h(!0),x(" You have added ".concat(n.name," successfully to the phonebook! ")),setTimeout((function(){x(null)}),2e3)})).catch((function(e){h(!1),x(" Adding ".concat(n.name," to the phonebook was unsuccessful. Please try again! :) ")),setTimeout((function(){h(!0),x(null)}),3e3)}))},nameValue:V,nameChange:function(e){console.log(e.target.value),A(e.target.value)},namePlace:"Add new persons name...",numberValue:D,numberChange:function(e){console.log(e.target.value),I(e.target.value)},numberPlace:"Add new persons phone number...",typeProps:"submit"}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(i,{personValue:t,filterNameValue:S,deleteValue:function(e){var n=parseInt(e.target.value),a=n-1;window.confirm("Are you sure you want to delete ".concat(t[a].name," from the records?"))&&j(e.target.value).then((function(e){o(t.filter((function(e){return e.id!==n}))),h(!0),x(" You have deleted ".concat(t[a].name," successfully from the phonebook! ")),setTimeout((function(){x(null)}),2e3)})).catch((function(e){h(!1),x(" Deleting ".concat(t[a].name," from the phonebook was unsuccessful. Please try again! :) ")),setTimeout((function(){h(!0),x(null)}),3e3)}))}})]})};t(38);c.a.render(Object(s.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8c524dc0.chunk.js.map