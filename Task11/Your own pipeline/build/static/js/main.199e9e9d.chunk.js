(this["webpackJsonpredux-anecdotes"]=this["webpackJsonpredux-anecdotes"]||[]).push([[0],{56:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n(7),u=n.n(c),o=n(3),i=n(2),s=n.n(i),d=n(5),f=n(25),l=n(13),p=n(8),j=n.n(p),v="http://localhost:8000/api/anecdotes",b={getValuesFromDatabase:function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(v);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createNewValueDatabase:function(){var e=Object(d.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:t,votes:0},e.next=3,j.a.post(v,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateValueDatabase:function(){var e=Object(d.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:t.content,votes:t.votes+1},e.next=3,j.a.put("".concat(v,"/").concat(t.id),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(console.log("User has given new like to the following id:",t.data),"SHOW_ALL_VALUES"===t.type)return t.data;if("ADD_NEW_LIKE"===t.type){var n=t.data.id,r=e.find((function(e){return e.id===n})),a=Object(l.a)(Object(l.a)({},r),{},{votes:r.votes+1});return e.map((function(e){return e.id!==n?e:a}))}return"ADD_NEW_CONTENT"===t.type?[].concat(Object(f.a)(e),[t.data]):e},O=function(e,t){return function(){var n=Object(d.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:clearTimeout(r),a({type:"SHOW_NOTIFICATION",notification:e}),r=setTimeout((function(){a({type:"HIDE_NOTIFICATION",notification:null})}),500*t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SHOW_NOTIFICATION"===t.type||"HIDE_NOTIFICATION"===t.type?t.notification:e},g=n(1),m={createNewValue:function(e){return function(){var t=Object(d.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.createNewValueDatabase(e);case 2:r=t.sent,n({type:"ADD_NEW_CONTENT",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},showNotificationMessage:O},w=Object(o.b)((function(e){return{values:e.values,message:e.message}}),m)((function(e){var t=function(){var t=Object(d.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=n.target.newText.value,n.target.newText.value="",e.createNewValue(r),e.showNotificationMessage("You have added ".concat(r," to the database. Thank you for adding!"),10);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsx)("input",{id:"inputValue",name:"newText"}),Object(g.jsx)("button",{id:"inputButton",type:"submit",children:"Add new text"})]})})})),y=function(){var e=Object(o.d)((function(e){return e.values})),t=Object(o.c)(),n=function(e){t(function(e){return function(){var t=Object(d.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.updateValueDatabase(e);case 2:r=t.sent,n({type:"ADD_NEW_LIKE",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t(O("You have voted for ".concat(e.content,". Thank you for voting!"),10))},r=Object(o.d)((function(e){return e.filter}));return Object(g.jsx)("div",{children:e.filter((function(e){return e.content.toLowerCase().includes(r.toLowerCase())})).sort((function(e,t){return t.votes-e.votes})).map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:e.content})}),Object(g.jsx)("div",{children:Object(g.jsxs)("p",{children:["Content has been voted for total of ",e.votes," times ",Object(g.jsx)("button",{onClick:function(){return n(e)},children:"vote"})]})})]},e.id)}))})},N=Object(o.b)((function(e){return{message:e.message}}))((function(e){var t={border:"solid",padding:10,borderWidth:1};return Object(g.jsx)("div",{children:null===e.message?null:null!==e.message?Object(g.jsx)("div",{style:t,children:Object(g.jsx)("h3",{children:e.message})}):void 0})})),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"FILTER_INPUT_VALUE"===t.type?t.filterValue:e},I={changeFilterValue:function(e){return{type:"FILTER_INPUT_VALUE",filterValue:e}}},_=Object(o.b)((function(e){return{filter:e.filter}}),I)((function(e){return Object(g.jsx)("div",{style:{marginBottom:10},children:Object(g.jsxs)("div",{children:["Filter: ",Object(g.jsx)("input",{onChange:function(t){return e.changeFilterValue(t.target.value)}})]})})})),D=function(){var e=Object(o.c)();return Object(a.useEffect)((function(){e(function(){var e=Object(d.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getValuesFromDatabase();case 2:n=e.sent,t({type:"SHOW_ALL_VALUES",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{}),Object(g.jsx)("h1",{children:"Anecdotes"}),Object(g.jsx)(_,{}),Object(g.jsx)(y,{}),Object(g.jsx)(w,{})]})},E=n(6),V=n(23),A=n(24),k=Object(E.combineReducers)({values:h,message:x,filter:T}),L=Object(E.createStore)(k,Object(A.composeWithDevTools)(Object(E.applyMiddleware)(V.a)));u.a.render(Object(g.jsx)(o.a,{store:L,children:Object(g.jsx)(D,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.199e9e9d.chunk.js.map